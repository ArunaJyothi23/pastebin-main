(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[107],{8977:(e,t,s)=>{Promise.resolve().then(s.bind(s,349))},349:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(7437),r=s(2265),n=s(6463),d=s(8472),o=s(7776),i=s(2023),c=s(5137),l=s(6127),x=s(5733),m=s(933),p=s(2468),u=s(6884);function h(e){var t;let{params:s}=e,{id:h}=(0,r.use)(s),f=(0,n.useRouter)(),[b,g]=(0,r.useState)(null),[N,j]=(0,r.useState)(!0),[w,y]=(0,r.useState)(null),[v,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{let e=await d.Z.get("".concat("http://localhost:3000","/api/pastes/").concat(h));g(e.data),y(null)}catch(s){var e,t;console.error("Error fetching paste:",s),(null===(e=s.response)||void 0===e?void 0:e.status)===404?y({type:"not_found",message:"PASTE_NOT_FOUND"}):(null===(t=s.response)||void 0===t?void 0:t.status)===410?y({type:"expired",message:"PASTE_EXPIRED"}):y({type:"error",message:"FETCH_ERROR"})}finally{j(!1)}})()},[h]);let E=async()=>{if(b)try{await navigator.clipboard.writeText(b.content),k(!0),o.Am.success("Content copied to clipboard!"),setTimeout(()=>k(!1),2e3)}catch(e){o.Am.error("Failed to copy content")}};return(0,a.jsxs)("div",{className:"min-h-screen bg-background flex flex-col","data-testid":"view-paste-page",children:[(0,a.jsx)("header",{className:"border-b border-border",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i.Z,{className:"w-6 h-6 text-primary",strokeWidth:1.5}),(0,a.jsx)("h1",{className:"text-xl font-mono font-bold tracking-tight text-foreground",children:"PASTEBIN_LITE"})]}),(0,a.jsxs)("button",{"data-testid":"back-home-btn",onClick:()=>f.push("/"),className:"rounded-sm font-mono uppercase tracking-widest text-xs font-bold hover:bg-accent hover:text-accent-foreground px-3 py-1 flex items-center",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 mr-2",strokeWidth:1.5}),"New Paste"]})]})}),(0,a.jsx)("main",{className:"flex-1 max-w-5xl mx-auto px-4 py-8 w-full",children:N?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[50vh]","data-testid":"loading-state",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),(0,a.jsx)("p",{className:"font-mono text-sm text-muted-foreground uppercase tracking-widest",children:"Loading..."})]})}):w?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[50vh]","data-testid":"error-state",children:(0,a.jsxs)("div",{className:"border border-destructive/50 rounded-sm bg-card p-8 max-w-md w-full text-center space-y-4",children:[(0,a.jsx)(l.Z,{className:"w-12 h-12 text-destructive mx-auto",strokeWidth:1.5}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"font-mono text-lg font-bold text-destructive uppercase tracking-widest",children:["ERROR: ",w.message]}),(0,a.jsxs)("p",{className:"font-mono text-sm text-muted-foreground",children:["not_found"===w.type&&"This paste does not exist or has been deleted.","expired"===w.type&&"This paste has expired and is no longer available.","error"===w.type&&"An error occurred while fetching the paste."]})]}),(0,a.jsx)("button",{"data-testid":"create-new-btn",onClick:()=>f.push("/"),className:"rounded-sm font-mono uppercase tracking-widest text-xs font-bold bg-primary text-primary-foreground hover:bg-primary/90 px-8 py-2",children:"Create New Paste"})]})}):b?(0,a.jsxs)("div",{className:"space-y-6","data-testid":"paste-content-section",children:[(0,a.jsx)("div",{className:"border border-border rounded-sm bg-card p-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-xs font-mono uppercase tracking-widest text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2","data-testid":"paste-id-display",children:[(0,a.jsx)(i.Z,{className:"w-3 h-3",strokeWidth:1.5}),"ID: ",h]}),(0,a.jsxs)("span",{className:"flex items-center gap-2","data-testid":"view-count-display",children:[(0,a.jsx)(x.Z,{className:"w-3 h-3",strokeWidth:1.5}),"Views: ",b.viewCount,b.maxViews&&" / ".concat(b.maxViews)]}),b.expiresAt&&(0,a.jsxs)("span",{className:"flex items-center gap-2","data-testid":"expiry-display",children:[(0,a.jsx)(m.Z,{className:"w-3 h-3",strokeWidth:1.5}),"Expires: ",(t=b.expiresAt)?new Date(t).toLocaleString():null]})]}),(0,a.jsx)("button",{"data-testid":"copy-content-btn",onClick:E,className:"rounded-sm font-mono uppercase tracking-widest text-xs font-bold border border-input hover:bg-accent hover:text-accent-foreground px-4 py-1 flex items-center",children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-2",strokeWidth:1.5}),"Copied"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 mr-2",strokeWidth:1.5}),"Copy"]})})]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-mono uppercase tracking-widest text-muted-foreground",children:"Content"}),(0,a.jsx)("div",{className:"border border-border rounded-sm bg-card p-4",children:(0,a.jsx)("pre",{className:"font-mono text-base leading-relaxed whitespace-pre-wrap break-words text-foreground","data-testid":"paste-content-display",children:b.content})})]})]}):null}),(0,a.jsx)("footer",{className:"border-t border-border mt-auto",children:(0,a.jsx)("div",{className:"max-w-5xl mx-auto px-4 py-4",children:(0,a.jsx)("p",{className:"text-xs font-mono text-muted-foreground text-center",children:"PASTEBIN_LITE // Ephemeral Text Sharing"})})})]})}},5137:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(8030).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6127:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(8030).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},6463:(e,t,s)=>{"use strict";var a=s(1169);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[791,130,215,744],()=>t(8977)),_N_E=e.O()}]);